{#if type === 'textarea'}
  <textarea {...attr}
            bind:value
            class:no-resize={noResize}
            on:input={onInput}
            on:focus
            on:blur
            on:change></textarea>
{:else if label}
  <label>
    {label}
    <input {...attr}
           bind:value
           class:border-danger={!isValid && value}
           class:border-success={isValid && value && valid}
           on:input={onInput}
           on:focus
           on:blur
           on:change />
  </label>
{:else}
  <input {...attr}
         bind:value
         class:border-danger={!isValid && value}
         class:border-success={isValid && value && valid}
         on:input={onInput}
         on:focus
         on:blur
         on:change />
{/if}

<script >var _a;
import { createEventDispatcher } from 'svelte';
import { computeClasses, getDomAttributes } from '../../utils';
;
;
export let label = '';
export let value = '';
export let block = false;
export let type = 'text';
export let valid = null;
export let noResize = false;
const dispatch = createEventDispatcher();
function onInput({ target }) {
    dispatch('input', target.value);
}
let isValid = true;
$: if (valid) {
    isValid = valid(value);
}
let attr;
$: {
    attr = getDomAttributes({
        props: $$props,
        classes,
        toOmit: ['block', 'value', 'valid', 'noResize']
    });
}
let classes;
$: classes = `${(_a = $$restProps.class) !== null && _a !== void 0 ? _a : ''} ${computeClasses('input', { block })}`;
</script>

<style>
label {
  width: 100%;
}
</style>
