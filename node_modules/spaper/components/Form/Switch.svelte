{#if tile}
  <label {...$$restProps}
         class="{$$restProps.class ?? ''} paper-switch-tile"
         class:disabled>
    <input bind:checked
           type="checkbox"
           {disabled}
           on:change={onChange} />
    <div class="paper-switch-tile-card border">
      <div class={`paper-switch-tile-card-front border
                   ${bgClass(tile.off.background)}`}>
        {tile.off.label}
      </div>
      <div class={`paper-switch-tile-card-back border
                   ${bgClass(tile.on.background)}`}>
        {tile.on.label}
      </div>
    </div>
  </label>
{:else}
  <label class={prefix}>
    <input id={domId}
           bind:checked
           type="checkbox"
           {disabled}
           on:change={onChange} />
    <span class="paper-switch-slider"
          class:round></span>
  </label>
  {#if $$slots.default}
    <label class={`${prefix}-label`}
           for={domId}>
      <slot />
    </label>
  {/if}
{/if}

<script  context="module">let count = 0;
</script>

<script >import { onMount, createEventDispatcher } from "svelte";
;
export let checked = false;
export let disabled = false;
export let round = false;
export let inline = false;
export let tile = null;
const dispatch = createEventDispatcher();
let id;
onMount(() => {
    id = count++;
});
let domId;
$: domId = `paper-switch-input-${id}`;
let prefix;
$: prefix = 'paper-switch' + (inline ? '-2' : '');
function onChange() {
    dispatch('change', checked);
}
function bgClass(color) {
    if (!color)
        return;
    return `background-${color}`;
}
</script>

<style >input[disabled] + span,
.paper-switch-tile.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}</style>
