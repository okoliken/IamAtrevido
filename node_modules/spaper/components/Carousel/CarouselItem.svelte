{#if active}
  <div {...$$restProps}
       class="{$$restProps.class ?? ''} carousel-item"
       in:configureTransition={{
         name: $transition,
         disabled: !$transition,
       }}>
    <slot />
  </div>
{/if}

<script >import { onMount, onDestroy, getContext } from 'svelte';
;
import { configureTransition } from '../../utils';
const key = Symbol();
let active = false;
const itemsData = getContext('carouselItems');
if (!itemsData)
    throw new Error('CarouselItem should be nested inside a Carousel');
onMount(() => {
    itemsData.items.update(items => [...items, {
            key,
            show: () => active = true,
            hide: () => active = false,
        }
    ]);
});
onDestroy(() => {
    itemsData.items.update(items => (items.filter(item => item.key !== key)));
});
$: ({ transition } = itemsData);
</script>
